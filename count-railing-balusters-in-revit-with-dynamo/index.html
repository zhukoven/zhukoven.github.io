<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Count railing balusters in Revit with Dynamo - zhukoven.com</title><meta name="description" content="Counting something in Revit seems pretty easy, right? You're able to extract lots of parameters from different element categories out of the box, and use them to create schedules or count quantities. This concept works great until you get to the system families. They usually make you scratch your head and turn your eyes towards Dynamo to get things done...Say, we want to schedule the number of balusters by railing types. How are we supposed to count things like this?The first thing that comes in mind - is to create a Railing schedule and check out available fields. And that's when the first obstacle comes in your way: there's no such thing as 'Baluster' in the railing schedule:[gallery ids='478,479' type='rectangular']The next step is to check railing instance or type parameters. Still, nothing useful here but baluster placement, that obviously can't help us count the number of elements. Well, what if we check out available parameters in Dynamo?"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://zhukoven.com/count-railing-balusters-in-revit-with-dynamo/"><link rel="alternate" type="application/atom+xml" href="https://zhukoven.com/feed.xml"><link rel="alternate" type="application/json" href="https://zhukoven.com/feed.json"><meta property="og:title" content="Count railing balusters in Revit with Dynamo"><meta property="og:site_name" content="zhukoven.com"><meta property="og:description" content="Counting something in Revit seems pretty easy, right? You're able to extract lots of parameters from different element categories out of the box, and use them to create schedules or count quantities. This concept works great until you get to the system families. They usually make you scratch your head and turn your eyes towards Dynamo to get things done...Say, we want to schedule the number of balusters by railing types. How are we supposed to count things like this?The first thing that comes in mind - is to create a Railing schedule and check out available fields. And that's when the first obstacle comes in your way: there's no such thing as 'Baluster' in the railing schedule:[gallery ids='478,479' type='rectangular']The next step is to check railing instance or type parameters. Still, nothing useful here but baluster placement, that obviously can't help us count the number of elements. Well, what if we check out available parameters in Dynamo?"><meta property="og:url" content="https://zhukoven.com/count-railing-balusters-in-revit-with-dynamo/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://zhukoven.com/media/website/favicon.png" type="image/png"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Roboto:400,700&amp;subset=latin-ext&amp;display=swap" rel="stylesheet"><style>:root{--body-font:'Open Sans',sans-serif;--heading-font:'Roboto',sans-serif;--logo-font:'Roboto',sans-serif;--menu-font:'Roboto',sans-serif}</style><link rel="stylesheet" href="https://zhukoven.com/assets/css/style.css?v=67451837e75b14dacaeb77a4f581079d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://zhukoven.com/count-railing-balusters-in-revit-with-dynamo/"},"headline":"Count railing balusters in Revit with Dynamo","datePublished":"2017-06-09T17:37","dateModified":"2022-03-07T11:54","description":"Counting something in Revit seems pretty easy, right? You're able to extract lots of parameters from different element categories out of the box, and use them to create schedules or count quantities. This concept works great until you get to the system families. They usually make you scratch your head and turn your eyes towards Dynamo to get things done...Say, we want to schedule the number of balusters by railing types. How are we supposed to count things like this?The first thing that comes in mind - is to create a Railing schedule and check out available fields. And that's when the first obstacle comes in your way: there's no such thing as 'Baluster' in the railing schedule:[gallery ids='478,479' type='rectangular']The next step is to check railing instance or type parameters. Still, nothing useful here but baluster placement, that obviously can't help us count the number of elements. Well, what if we check out available parameters in Dynamo?","author":{"@type":"Person","name":"zhukoven"},"publisher":{"@type":"Organization","name":"zhukoven"}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://zhukoven.com/">zhukoven.com</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://zhukoven.com/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." aria-label="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://zhukoven.com/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2017-06-09T17:37">June 9, 2017</time></div><h1>Count railing balusters in Revit with Dynamo</h1><div class="post__meta post__meta--author"><img src="https://zhukoven.com/media/website/favicon-2.png" loading="eager" alt="zhukoven" class="post__author-thumb"> <a href="https://zhukoven.com/authors/zhukoven/" class="feed__author invert">zhukoven</a></div></div></header></div><div class="wrapper post__entry"><p>Counting something in Revit seems pretty easy, right? You're able to extract lots of parameters from different element categories out of the box, and use them to create schedules or count quantities. This concept works great until you get to the system families. They usually make you scratch your head and turn your eyes towards Dynamo to get things done...</p><p>Say, we want to schedule the number of balusters by railing types. How are we supposed to count things like this?</p><figure class="alignnone size-full wp-image-487"><img loading="lazy" src="https://zhukoven.com/media/posts/11/railings.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://zhukoven.com/media/posts/11/responsive/railings-xs.png 300w, https://zhukoven.com/media/posts/11/responsive/railings-sm.png 480w, https://zhukoven.com/media/posts/11/responsive/railings-md.png 768w, https://zhukoven.com/media/posts/11/responsive/railings-lg.png 1024w, https://zhukoven.com/media/posts/11/responsive/railings-xl.png 1360w, https://zhukoven.com/media/posts/11/responsive/railings-2xl.png 1600w" alt="Railings" width="892" height="513"></figure><p>The first thing that comes in mind - is to create a Railing schedule and check out available fields. And that's when the first obstacle comes in your way: there's no such thing as "Baluster" in the railing schedule:</p><p>[gallery ids="478,479" type="rectangular"]</p><p>The next step is to check railing instance or type parameters. Still, nothing useful here but baluster placement, that obviously can't help us count the number of elements. Well, what if we check out available parameters in Dynamo?</p><figure class="alignnone size-full wp-image-512"><img loading="lazy" src="https://zhukoven.com/media/posts/11/railingparameters1.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://zhukoven.com/media/posts/11/responsive/railingparameters1-xs.png 300w, https://zhukoven.com/media/posts/11/responsive/railingparameters1-sm.png 480w, https://zhukoven.com/media/posts/11/responsive/railingparameters1-md.png 768w, https://zhukoven.com/media/posts/11/responsive/railingparameters1-lg.png 1024w, https://zhukoven.com/media/posts/11/responsive/railingparameters1-xl.png 1360w, https://zhukoven.com/media/posts/11/responsive/railingparameters1-2xl.png 1600w" alt="RailingParameters" width="1170" height="896"></figure><p>Nope, even API can't tell us the number of Balusters: only baluster offset parameter has value, which is useless in our case. The other values are hidden under the "Baluster Placement" parameter, that acts as a separate Revit menu and is unavailable via the API. It turns out that this task could be only workarounded, and that's when the <a href="https://forum.dynamobim.com/" target="_blank" rel="noopener noreferrer">Dynamo community</a> comes in.</p><p>I'm talking about the custom node written by John Pierson from <a href="http://sixtysecondrevit.com/aboutme/" target="_blank" rel="noopener noreferrer">60secondrevit</a>. His node is called "Railing.BalusterCount", and it's packed into John's <a href="https://www.dynamopackages.com/" target="_blank" rel="noopener noreferrer">Rhythm nodes</a> package. The node explodes a railing element geometry to get the number of baluster elements. Frankly speaking, I thought that this node would do the trick for me, but guess what? I was wrong. While this is a great concept, it turned out that the resulting number of elements has some <strong>false positives</strong>. Take a close look at this example:</p><figure class="alignnone size-full wp-image-841"><img loading="lazy" src="https://zhukoven.com/media/posts/11/dynamo_railcount-revit-e1496996791442.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revit-e1496996791442-xs.png 300w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revit-e1496996791442-sm.png 480w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revit-e1496996791442-md.png 768w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revit-e1496996791442-lg.png 1024w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revit-e1496996791442-xl.png 1360w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revit-e1496996791442-2xl.png 1600w" alt="Dynamo_RailCount-Revit" width="586" height="538"></figure><p>This simple railing has only 3 baluster elements inside, so let's launch the Dynamo graph - it should also show us these 3 items:</p><figure class="alignnone size-full wp-image-848"><img loading="lazy" src="https://zhukoven.com/media/posts/11/dynamo_railcountrhythm.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythm-xs.png 300w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythm-sm.png 480w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythm-md.png 768w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythm-lg.png 1024w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythm-xl.png 1360w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythm-2xl.png 1600w" alt="Dynamo_RailCountRhythm" width="718" height="236"></figure><p>Oops... the "Watch" node shows 4 elements instead of 3. Well, let's tear this node apart and see what's going on there (next figure shows the node's entrails, connected to the input "Select Model Element" node):</p><figure class="alignnone size-full wp-image-854"><a href="https://zhukoven.com/media/posts/11/dynamo_railcountrhythmfail.png" target="_blank" rel="noopener"><img loading="lazy" src="https://zhukoven.com/media/posts/11/dynamo_railcountrhythmfail.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythmfail-xs.png 300w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythmfail-sm.png 480w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythmfail-md.png 768w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythmfail-lg.png 1024w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythmfail-xl.png 1360w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountrhythmfail-2xl.png 1600w" alt="Dynamo_RailCountRhythmFail" width="1938" height="472"></a></figure><p></p><p>Then launching the script gives us the following picture:</p><figure class="alignnone size-full wp-image-875"><img loading="lazy" src="https://zhukoven.com/media/posts/11/dynamo_railcount-revitfail-e1497017592777.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revitfail-e1497017592777-xs.png 300w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revitfail-e1497017592777-sm.png 480w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revitfail-e1497017592777-md.png 768w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revitfail-e1497017592777-lg.png 1024w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revitfail-e1497017592777-xl.png 1360w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcount-revitfail-e1497017592777-2xl.png 1600w" alt="Dynamo_RailCount-RevitFail" width="614" height="539"></figure><p>And here's our false positive that we've been looking for, is circled in red. This guy comes from the upper surface after the "Geometry.Explode" operation. And as soon as the node takes "Vector.X" component, this results in the false positive(s).</p><p>My workaround is the following: while we cannot get rid of this extra point from the upper surface, we can ignore it by switching the node's logic to "Vector.Z". This is how my "<a href="http://zhukoven.com/2017/05/19/zhukoven-com-dynamo-package-update/">Railing.CountBalusters</a>" node works:</p><figure class="alignnone size-full wp-image-909"><a href="https://zhukoven.com/media/posts/11/dynamo_railcountzhukovennode.png" target="_blank" rel="noopener"><img loading="lazy" src="https://zhukoven.com/media/posts/11/dynamo_railcountzhukovennode.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukovennode-xs.png 300w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukovennode-sm.png 480w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukovennode-md.png 768w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukovennode-lg.png 1024w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukovennode-xl.png 1360w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukovennode-2xl.png 1600w" alt="Dynamo_RailCountZhukovenNode" width="2570" height="538"></a></figure><p></p><p>Although the basic concept remains the same, the "Vector.Z" component does the trick:</p><figure class="alignnone size-full wp-image-898"><img loading="lazy" src="https://zhukoven.com/media/posts/11/dynamo_railcountzhukoven-e1497018549537.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukoven-e1497018549537-xs.png 300w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukoven-e1497018549537-sm.png 480w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukoven-e1497018549537-md.png 768w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukoven-e1497018549537-lg.png 1024w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukoven-e1497018549537-xl.png 1360w, https://zhukoven.com/media/posts/11/responsive/dynamo_railcountzhukoven-e1497018549537-2xl.png 1600w" alt="Dynamo_RailCountZhukoven" width="669" height="135"></figure><p>I've tested my node on different types and forms of Revit railings (see the first figure in this post), and each time the output was correct.</p><p>You may download the latest version of my dynamo package (Dynamo 1.3+, Revit 2016+) here:  <a href="http://zhukoven.com/dynamo-packages/">Dynamo packages</a></p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on March 7, 2022</p><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fzhukoven.com%2Fcount-railing-balusters-in-revit-with-dynamo%2F" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://zhukoven.com/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fzhukoven.com%2Fcount-railing-balusters-in-revit-with-dynamo%2F&amp;via=%40zhkvn&amp;text=Count%20railing%20balusters%20in%20Revit%20with%20Dynamo" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://zhukoven.com/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fzhukoven.com%2Fcount-railing-balusters-in-revit-with-dynamo%2F" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://zhukoven.com/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span></a></div><div class="post__bio bio"><img class="bio__avatar" src="https://zhukoven.com/media/website/favicon-2.png" loading="lazy" alt="zhukoven"><div class="bio__info"><h3 class="bio__name"><a href="https://zhukoven.com/authors/zhukoven/" class="invert" rel="author">zhukoven</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://zhukoven.com/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://zhukoven.com/zhukovencom-dynamo-package-update-brings-navisworks-searchset-xml-creator/" class="invert post__nav-link" rel="prev"><span>Previous</span> Zhukoven.com dynamo package update brings Navisworks SearchSet XML creator</a></div><div class="post__nav-next"><a href="https://zhukoven.com/unable-to-apply-scope-box-to-revit-view/" class="invert post__nav-link" rel="next"><span>Next</span> Unable to apply scope box to Revit view </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://zhukoven.com/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2017-05-25T12:28" class="feed__date">May 25, 2017</time></div><h3 class="h1"><a href="https://zhukoven.com/visualize-revit-element-orientation-in-dynamo/" class="invert">Visualize Revit element orientation in Dynamo</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2017-05-19T19:04" class="feed__date">May 19, 2017</time></div><h3 class="h1"><a href="https://zhukoven.com/zhukovencom-dynamo-package-update/" class="invert">Zhukoven.com dynamo package update</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2017-05-18T19:11" class="feed__date">May 18, 2017</time></div><h3 class="h1"><a href="https://zhukoven.com/create-revit-workset-by-linked-file-with-dynamo-updated/" class="invert">Create Revit workset by linked file with Dynamo (updated)</a></h3></article></div></div></main><footer class="footer"><div class="footer__social"><a href="http://twitter.com/zhkvn" aria-label="Twitter"><svg><use xlink:href="https://zhukoven.com/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="http://linkedin.com/in/zhukoven" aria-label="LinkedIn"><svg><use xlink:href="https://zhukoven.com/assets/svg/svg-map.svg#linkedin"/></svg></a></div><div class="footer__copyright"><p>Published by Konstantin <a href="https://zhukoven.com">Zhukoven.com</a> in 2022</p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://zhukoven.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://zhukoven.com/assets/js/scripts.min.js?v=48e9576b9741cf2a93ab25c5689c9f5d"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>